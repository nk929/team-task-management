# 협업 업무 관리 시스템 (Team Task Management System)

같은 네트워크상의 사용자들이 작업 내용을 공유하고 업무 진행 목록을 실시간으로 기록·관리하는 웹 애플리케이션입니다.

## 🎯 프로젝트 목표

- 개인 업무와 공유 업무를 효율적으로 관리
- 팀원들의 업무 진행 상황을 실시간으로 파악
- 날짜별 업무 계획 및 완료 현황 추적
- 완료되지 않은 업무의 자동 이관으로 업무 누락 방지

## ✨ 주요 기능

### 완료된 기능

#### 1. 사용자 관리
- **간편 로그인**: 사용자 이름만으로 빠른 로그인
- **자동 로그인**: 세션 유지로 재방문 시 자동 로그인
- **다중 사용자 지원**: 여러 사용자가 동시에 사용 가능
- **페이지 타이틀 날짜 표시**: 브라우저 탭에 당일 날짜가 표시되어 빠른 확인 가능

#### 2. 업무 관리
- **업무 추가**: 날짜별로 새로운 업무 등록
- **업무 완료**: 체크박스로 완료 상태 표시 (취소선 적용)
- **업무 공유**: 개인 업무를 팀 공유 업무로 전환
- **업무 삭제**: 불필요한 업무 제거

#### 3. 날짜 관리
- **날짜 네비게이션**: 이전/다음 날짜로 이동
- **오늘로 이동**: 빠른 오늘 날짜 조회
- **한국어 날짜 표시**: 연월일 및 요일 표시

#### 4. 업무 분류 및 표시
- **내 업무 목록**
  - 예정된 업무: 미완료 업무 표시
  - 완료된 업무: 완료 처리된 업무 표시 (취소선)
  - 각 업무에 완료/공유/삭제 버튼 제공

- **팀 공유 업무**
  - 다른 팀원들이 공유한 업무 조회
  - 사용자별로 그룹화하여 표시
  - 읽기 전용 (본인 업무만 수정 가능)

- **팀원별 완료 업무 (주간 조회)**
  - 다른 팀원들의 완료된 업무를 주간 단위로 조회
  - 이전 주/다음 주/이번 주 버튼으로 주간 이동
  - 날짜별로 그룹화하여 표시
  - 공유 업무 + 완료 업무만 표시
  - 완료 시간 표시

#### 5. 자동 업무 이관
- **날짜 기반 자동 이관**: 완료되지 않은 이전 날짜의 업무를 자동으로 오늘로 이동
- **로그인 시 자동 실행**: 앱 접속 시 자동으로 업무 이관 처리
- **주기적 확인**: 30초마다 자동으로 업무 이관 확인

#### 6. 실시간 동기화
- **자동 새로고침**: 30초마다 자동으로 데이터 갱신
- **팀원 업무 실시간 확인**: 다른 팀원들의 업무 변경 사항 반영

#### 7. 데이터 보관 및 정리
- **6개월 데이터 보관**: 완료된 업무는 6개월간 보관
- **자동 삭제**: 6개월 이상 지난 완료 업무는 순차적으로 자동 삭제
- **로그인 시 정리**: 앱 접속 시 오래된 데이터 자동 삭제
- **주기적 정리**: 1시간마다 오래된 데이터 확인 및 삭제

#### 8. 요청사항 전달
- **특정 사용자에게 요청 전송**: 다른 팀원에게 요청사항을 전달
- **온라인/오프라인 상태 표시**: 사용자의 실시간 접속 상태 확인
- **받은 요청 관리**: 팀원들로부터 받은 요청을 확인하고 수락/거절
- **보낸 요청 추적**: 내가 보낸 요청의 상태를 실시간으로 확인
- **요청 상태**: 대기중(pending), 수락됨(accepted), 거절됨(rejected)
- **응답 메시지**: 수락/거절 시 메시지 전달 가능
- **읽음 확인**: 받은 요청의 읽음/읽지 않음 상태 표시
- **실시간 알림**: 읽지 않은 요청 개수를 배지로 표시

#### 9. 온라인 상태 관리
- **실시간 온라인 상태**: 🟢 온라인 / ⚫ 오프라인 표시
- **하트비트 시스템**: 1분마다 자동으로 온라인 상태 갱신
- **마지막 활동 시간**: 2분 이내 활동 시 온라인으로 간주
- **자동 오프라인 처리**: 로그아웃 또는 브라우저 종료 시 오프라인 처리
- **사용자 목록 정렬**: 요청 전송 시 온라인 사용자 우선 표시

#### 10. 반응형 UI
- **모바일 최적화**: 스마트폰에서도 편리한 사용
- **태블릿 지원**: 다양한 화면 크기 대응
- **현대적인 디자인**: Material Design 기반 UI

## 📁 프로젝트 구조

```
/
├── index.html          # 메인 HTML 파일
├── css/
│   └── style.css      # 스타일시트
├── js/
│   └── app.js         # 애플리케이션 로직
└── README.md          # 프로젝트 문서
```

## 🗄️ 데이터 모델

### Users 테이블
| 필드 | 타입 | 설명 |
|------|------|------|
| id | text | 사용자 고유 ID (자동 생성) |
| username | text | 사용자 이름 |
| is_online | bool | 온라인 상태 (true=온라인, false=오프라인) |
| last_active_at | datetime | 마지막 활동 시간 (하트비트) |
| created_at | datetime | 계정 생성 시간 |

### Tasks 테이블
| 필드 | 타입 | 설명 |
|------|------|------|
| id | text | 업무 고유 ID (자동 생성) |
| user_id | text | 작성자 ID |
| title | text | 업무 제목 |
| task_date | text | 업무 예정일 (YYYY-MM-DD) |
| is_shared | bool | 공유 여부 |
| is_completed | bool | 완료 여부 |
| completed_at | datetime | 완료 시간 |
| created_at | datetime | 생성 시간 |

### Requests 테이블
| 필드 | 타입 | 설명 |
|------|------|------|
| id | text | 요청 고유 ID (자동 생성) |
| from_user_id | text | 요청자 ID |
| to_user_id | text | 수신자 ID |
| title | text | 요청 제목 |
| message | text | 요청 내용 |
| status | text | 상태 (pending/accepted/rejected) |
| response_message | text | 응답 메시지 |
| is_read | bool | 읽음 여부 |
| read_at | datetime | 읽은 시간 |
| created_at | datetime | 요청 생성 시간 |
| responded_at | datetime | 응답 시간 |

## 🚀 기능 사용 방법

### 1. 로그인
1. 앱 접속 시 로그인 화면이 표시됩니다
2. 사용자 이름을 입력하고 "로그인" 버튼을 클릭합니다
3. 처음 접속하는 사용자는 자동으로 계정이 생성됩니다

### 2. 업무 추가
1. 상단의 날짜 선택으로 원하는 날짜를 선택합니다
2. "새로운 업무를 입력하세요..." 입력창에 업무 내용을 입력합니다
3. "추가" 버튼을 클릭하거나 Enter 키를 누릅니다

### 3. 업무 관리
- **완료 처리**: 체크 버튼(✓)을 클릭하여 업무를 완료 처리합니다
- **공유 설정**: 공유 버튼(🔗)을 클릭하여 팀원들과 업무를 공유합니다
- **삭제**: 휴지통 버튼(🗑️)을 클릭하여 업무를 삭제합니다

### 4. 팀 업무 확인
- **팀 공유 업무**: 다른 팀원들이 공유한 미완료 업무를 확인합니다
- **팀원별 완료 업무 (주간 조회)**: 다른 팀원들의 완료된 업무를 주간 단위로 확인합니다

### 5. 날짜 및 주간 이동
- **날짜 이동**: 화살표 버튼으로 날짜를 이동하거나 "오늘" 버튼으로 현재 날짜로 돌아갑니다
- **주간 이동**: 팀원별 완료 업무 섹션에서 주간 이동 버튼으로 이전 주/다음 주/이번 주 조회

### 6. 요청사항 전달
1. **새 요청 작성**
   - "새 요청" 버튼을 클릭합니다
   - 받는 사람을 선택합니다
   - 제목과 요청 내용을 입력합니다
   - "전송" 버튼으로 요청을 보냅니다

2. **받은 요청 관리**
   - 받은 요청 목록에서 요청을 클릭하여 상세 내용을 확인합니다
   - "수락" 또는 "거절" 버튼으로 응답합니다
   - 응답 메시지를 입력할 수 있습니다 (선택사항)

3. **보낸 요청 확인**
   - 보낸 요청 목록에서 요청 상태를 확인합니다
   - 상대방의 응답을 확인할 수 있습니다

## 🔧 RESTful API 엔드포인트

### Users API
- `GET tables/users?search={username}&limit=1` - 사용자 검색
- `POST tables/users` - 새 사용자 생성
- `GET tables/users?limit=1000` - 모든 사용자 조회

### Tasks API
- `GET tables/tasks?limit=1000` - 모든 업무 조회
- `POST tables/tasks` - 새 업무 생성
- `PATCH tables/tasks/{taskId}` - 업무 부분 수정 (완료/공유 상태)
- `DELETE tables/tasks/{taskId}` - 업무 삭제

### Requests API
- `GET tables/requests?limit=1000` - 모든 요청사항 조회
- `POST tables/requests` - 새 요청 생성
- `PATCH tables/requests/{requestId}` - 요청 응답 (상태/응답 메시지)

## 📊 주요 기능 상세 설명

### 업무 자동 이관 시스템
완료되지 않은 업무가 날짜를 넘기면 자동으로 오늘 날짜로 이관됩니다:
- 로그인 시 자동 실행
- 30초마다 백그라운드에서 확인
- 업무 누락 방지

### 권한 시스템
- **본인 업무**: 모든 작업 가능 (완료, 공유, 삭제)
- **다른 사람 업무**: 읽기만 가능
- **공유 업무**: 모든 팀원이 조회 가능
- **완료 업무**: 공유 상태와 관계없이 팀원이 조회 가능

### 실시간 동기화
- 30초마다 자동으로 서버에서 최신 데이터를 가져옵니다
- 여러 사용자가 동시에 작업해도 업무 현황이 실시간으로 반영됩니다

### 데이터 보관 정책
- **완료 업무 보관 기간**: 6개월
- **자동 삭제**: 6개월 이상 지난 완료 업무는 순차적으로 자동 삭제
- **주간 조회**: 완료 업무는 주간 단위로 조회 가능하며 최대 6개월까지 확인 가능

### 요청사항 시스템
- **개인 간 커뮤니케이션**: 특정 팀원에게 직접 요청사항 전달
- **3가지 상태 관리**: 대기중(노란색), 수락됨(초록색), 거절됨(빨간색)
- **양방향 메시지**: 요청과 응답에 모두 메시지 작성 가능
- **읽음 확인**: 받은 요청의 읽음/읽지 않음 상태를 실시간으로 확인
- **실시간 알림**: 읽지 않은 요청 개수를 빨간 배지로 표시
- **상세 정보**: 요청 시간, 읽은 시간, 응답 시간, 상태, 메시지 등 모든 정보 확인
- **온라인 상태 연동**: 요청 전송/조회 시 상대방의 온라인 상태 표시

### 온라인 상태 관리
- **실시간 접속 상태**: 🟢 초록색 점(온라인), ⚫ 회색 점(오프라인)
- **펄스 애니메이션**: 온라인 사용자는 점이 깜빡이는 효과
- **하트비트 시스템**: 1분마다 자동으로 서버에 온라인 상태 전송
- **마지막 활동 기준**: 2분 이내 활동이 있으면 온라인으로 간주
- **자동 오프라인**: 로그아웃 또는 브라우저 종료 시 자동으로 오프라인 처리
- **우선 정렬**: 요청 전송 시 온라인 사용자가 목록 상단에 표시

## 🎨 UI/UX 특징

- **직관적인 인터페이스**: 쉽게 이해할 수 있는 아이콘과 버튼
- **색상 구분**: 공유 업무는 주황색 테두리, 요청 상태별 색상 표시
- **완료 표시**: 완료된 업무는 취소선으로 표시
- **반응형 디자인**: 모든 디바이스에서 최적화된 화면
- **로딩 표시**: 작업 진행 시 스피너 표시
- **모달 UI**: 요청사항 작성 및 상세보기를 위한 깔끔한 모달 인터페이스
- **배지 알림**: 읽지 않은 요청 개수를 실시간으로 표시
- **온라인 상태 표시**: 🟢 온라인 (깜빡이는 초록 점), ⚫ 오프라인 (회색 점)
- **읽음 표시**: "읽지 않음" 노란색 배지로 명확한 구분

## 🔮 향후 개발 계획

### 추가 예정 기능
1. **업무 우선순위**: 긴급/중요도 설정
2. **업무 카테고리**: 프로젝트별 분류
3. **댓글 기능**: 공유 업무에 팀원들이 댓글 작성
4. **푸시 알림**: 새로운 공유 업무 및 요청 알림
5. **통계 대시보드**: 개인/팀별 업무 완료율 차트
6. **기간 설정**: 여러 날짜에 걸친 업무 관리
7. **업무 태그**: 태그로 업무 분류 및 필터링
8. **검색 기능**: 업무 및 요청사항 제목으로 검색
9. **업무 히스토리**: 수정 이력 확인
10. **CSV 내보내기**: 업무 데이터 다운로드
11. **타이핑 표시**: 상대방이 응답 작성 중일 때 표시
12. **마지막 접속 시간**: 오프라인 사용자의 마지막 접속 시간 표시

### 개선 예정 사항
1. **성능 최적화**: 대량 데이터 처리 개선
2. **오프라인 모드**: 네트워크 없이도 작업 가능
3. **다크 모드**: 야간 작업 환경 지원
4. **키보드 단축키**: 빠른 업무 관리
5. **드래그 앤 드롭**: 업무 순서 변경

## 💡 사용 팁

1. **매일 아침 확인**: 자동 이관된 미완료 업무를 확인하세요
2. **적극적인 공유**: 협업이 필요한 업무는 공유하세요
3. **즉시 완료 체크**: 업무 완료 즉시 체크하여 팀원들에게 알리세요
4. **구체적인 업무명**: 명확한 업무명으로 팀원들이 이해하기 쉽게 작성하세요
5. **주기적인 확인**: 팀 공유 업무를 자주 확인하여 협업을 강화하세요
6. **요청사항 활용**: 업무 외 커뮤니케이션이 필요할 때 요청사항 기능을 활용하세요
7. **신속한 응답**: 받은 요청에 빠르게 응답하여 원활한 팀워크를 유지하세요
8. **명확한 요청**: 요청 작성 시 구체적인 내용으로 오해를 방지하세요

## 🛠️ 기술 스택

- **Frontend**: HTML5, CSS3, JavaScript (ES6+)
- **UI Framework**: Font Awesome Icons
- **API**: RESTful Table API
- **Storage**: Server-side Database (via Table API)
- **Session**: LocalStorage

## 📝 라이선스

이 프로젝트는 교육 및 협업 목적으로 제작되었습니다.

## 👥 기여

팀원들의 피드백을 환영합니다. 개선 사항이나 버그 발견 시 알려주세요!

---

**Made with ❤️ for better team collaboration**
